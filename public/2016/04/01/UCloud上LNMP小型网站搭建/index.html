<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>UCloud上LNMP小型网站搭建 | GaoSpot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="更新
2016/6/8 添加虚拟主机的说明 
2016/6/8 添加禁止ip访问的说明 
2016/6/8 添加缓存策略的配置说明 

目录
介绍
LNMP环境搭建
打开UCloud防火墙
Discuz!安装
应用测试

介绍这篇博客是之前UCloud上LAMP小型网站搭建与测试的姐妹篇，重点在于通过介绍在UCloud云主机上安装Discuz!来介绍LNMP环境的搭建，这里Discuz!可以换成任">
<meta property="og:type" content="article">
<meta property="og:title" content="UCloud上LNMP小型网站搭建">
<meta property="og:url" content="http://zone.gaospot.com/2016/04/01/UCloud上LNMP小型网站搭建/index.html">
<meta property="og:site_name" content="GaoSpot">
<meta property="og:description" content="更新
2016/6/8 添加虚拟主机的说明 
2016/6/8 添加禁止ip访问的说明 
2016/6/8 添加缓存策略的配置说明 

目录
介绍
LNMP环境搭建
打开UCloud防火墙
Discuz!安装
应用测试

介绍这篇博客是之前UCloud上LAMP小型网站搭建与测试的姐妹篇，重点在于通过介绍在UCloud云主机上安装Discuz!来介绍LNMP环境的搭建，这里Discuz!可以换成任">
<meta property="og:updated_time" content="2016-06-08T05:45:27.690Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="UCloud上LNMP小型网站搭建">
<meta name="twitter:description" content="更新
2016/6/8 添加虚拟主机的说明 
2016/6/8 添加禁止ip访问的说明 
2016/6/8 添加缓存策略的配置说明 

目录
介绍
LNMP环境搭建
打开UCloud防火墙
Discuz!安装
应用测试

介绍这篇博客是之前UCloud上LAMP小型网站搭建与测试的姐妹篇，重点在于通过介绍在UCloud云主机上安装Discuz!来介绍LNMP环境的搭建，这里Discuz!可以换成任">
    

    

    

    <link rel="stylesheet" href="/vendor/font-awesome/css/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="/vendor/open-sans/styles.css" type="text/css">
    <link rel="stylesheet" href="/vendor/source-code-pro/styles.css" type="text/css">

    <link rel="stylesheet" href="/css/style.css" type="text/css">

    <script src="/vendor/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
    
    
        <link rel="stylesheet" href="/vendor/fancybox/jquery.fancybox.css" type="text/css">
    
    
    
    

</head>
<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">GaoSpot</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">Home</a>
                
                    <a class="main-nav-link" href="/archives">Archives</a>
                
                    <a class="main-nav-link" href="/categories">Categories</a>
                
                    <a class="main-nav-link" href="/tags">Tags</a>
                
                    <a class="main-nav-link" href="/about">About</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/avatar.png" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://zone.gaospot.com"></form>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">Home</a></td>
                
                    <td><a class="main-nav-link" href="/archives">Archives</a></td>
                
                    <td><a class="main-nav-link" href="/categories">Categories</a></td>
                
                    <td><a class="main-nav-link" href="/tags">Tags</a></td>
                
                    <td><a class="main-nav-link" href="/about">About</a></td>
                
                <td>
                    
    <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="搜索"><input type="hidden" name="sitesearch" value="http://zone.gaospot.com"></form>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/avatar.png" />
            <h2 id="name">GaoSpot</h2>
            <h3 id="title">Coder &amp; Support</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Shanghai, China</span>
            <a id="follow" target="_blank" href="https://github.com/hsiun">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                43
                <span>文章</span>
            </div>
            <div class="article-info-block">
                14
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    <td><a href="http://github.com/hsiun" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
                    
                    <td><a href="https://twitter.com/growdane" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
                    
                    <td><a href="https://www.facebook.com/growdane" target="_blank" title="facebook"><i class="fa fa-facebook"></i></a></td>
                    
                    <td><a href="/" target="_blank" title="dribbble"><i class="fa fa-dribbble"></i></a></td>
                    
                    <td><a href="http://gaospot.com/atom.xml" target="_blank" title="rss"><i class="fa fa-rss"></i></a></td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main"><article id="post-UCloud上LNMP小型网站搭建" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
            <header class="article-header">
                
    
        <h1 class="article-title" itemprop="name">
            UCloud上LNMP小型网站搭建
        </h1>
    

                <div class="article-meta">
                    
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2016/04/01/UCloud上LNMP小型网站搭建/">
            <time datetime="2016-03-31T18:22:24.000Z" itemprop="datePublished">2016-04-01</time>
        </a>
    </div>


                    
                    
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/系统运维/">系统运维</a>
    </div>

                </div>
            </header>
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <h4 id="u66F4_u65B0"><a href="#u66F4_u65B0" class="headerlink" title="更新"></a>更新</h4><ul>
<li><a href="/#1">2016/6/8 添加虚拟主机的说明</a> </li>
<li><a href="/#2">2016/6/8 添加禁止ip访问的说明</a> </li>
<li><a href="/#3">2016/6/8 添加缓存策略的配置说明</a> </li>
</ul>
<h3 id="u76EE_u5F55"><a href="#u76EE_u5F55" class="headerlink" title="目录"></a>目录</h3><ol>
<li>介绍</li>
<li>LNMP环境搭建</li>
<li>打开UCloud防火墙</li>
<li>Discuz!安装</li>
<li>应用测试</li>
</ol>
<h3 id="u4ECB_u7ECD"><a href="#u4ECB_u7ECD" class="headerlink" title="介绍"></a>介绍</h3><p>这篇博客是之前<a href="http://zone.gaospot.com/2016/03/30/UCloud%E4%B8%8ALAMP%E5%B0%8F%E5%9E%8B%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E4%B8%8E%E6%B5%8B%E8%AF%95/">UCloud上LAMP小型网站搭建与测试</a>的姐妹篇，重点在于通过介绍在UCloud云主机上安装Discuz!来介绍LNMP环境的搭建，这里Discuz!可以换成任何用户自己的应用，过程都是类似的。</p>
<h3 id="LNMP_u73AF_u5883_u642D_u5EFA"><a href="#LNMP_u73AF_u5883_u642D_u5EFA" class="headerlink" title="LNMP环境搭建"></a>LNMP环境搭建</h3><p>关于主机的创建，登录和管理可以参考之前的那篇博客，这里直接就介绍在主机上安装NMP环境，安装步骤如下：</p>
<p>1、Uhost环境<br>CentOS-6.5 x86_64</p>
<p>2、安装NMP</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br><span class="line"><span class="comment"># yum install -y nginx mysql-server php php-gd php-xml php-fpm php-mysql php-bcmath php-mbstring php-mcrypt</span></span><br></pre></td></tr></table></figure>
<p>3、配置Nginx</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim /etc/nginx/nginx.conf</span></span><br></pre></td></tr></table></figure>
<p>修改如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user nginx;&#10;worker_processes  1;&#10;error_log /var/log/nginx/error.log;&#10;pid /var/run/nginx.pid;&#10;&#10;events &#123;&#10;    use epoll;&#10;    worker_connections 1024;&#10;&#125;&#10;&#10;http &#123;&#10;    include /etc/nginx/mime.types;&#10;    default_type application/octet-stream;&#10;    sendfile on;&#10;    tcp_nopush on;&#10;    keepalive_timeout 65;&#10;    gzip on;&#10;    include /etc/nginx/conf.d/*.conf;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p><span id="vs">添加虚拟主机</span><br>这里添加了一个名为www.domain.com的服务器，如果有需要的话，可以按照自己的需要添加更多server。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim/etc/nginx/conf.d/virtual.conf</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server &#123;&#10;    listen       80;&#10;    server_name  www.domain.com;&#10;    root /var/www/html;&#10;    index index.html index.htm index.php;&#10;    access_log  /var/log/nginx/domain-acess.log;&#10;&#10;    location ~ .*\.php?$ &#123;&#10;        include fastcgi.conf;&#10;        fastcgi_pass 127.0.0.1:9000;&#10;        fastcgi_index index.php;&#10;        access_log off;&#10;    &#125;&#10;&#10;    location ~ .*\.(gif|jpg|jpeg|png|bmp|swf|js|css)$ &#123;&#10;        expires 15d;&#10;    &#125;&#10;&#10;&#125;</span><br></pre></td></tr></table></figure>
<p>4、配置PHP</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sed -i 's#;date.timezone =#date.timezone = Asia/Shanghai#' /etc/php.ini</span></span><br><span class="line"><span class="comment"># sed -n 's#user = apache#user = nginx#p' /etc/php-fpm.d/www.conf</span></span><br><span class="line"><span class="comment"># sed -n 's#group = apache#group = nginx#p' /etc/php-fpm.d/www.conf</span></span><br></pre></td></tr></table></figure>
<p>5、启动服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># service nginx start</span></span><br><span class="line"><span class="comment"># chkconfig nginx on</span></span><br><span class="line"><span class="comment"># service php-fpm start</span></span><br><span class="line"><span class="comment"># chkconfig nginx on</span></span><br><span class="line"><span class="comment"># echo “&lt;?php phpinfo();” &gt; /var/www/html/phpinfo.php</span></span><br></pre></td></tr></table></figure>
<p>打开浏览器，输入下面URL(记得解析DNS，或者修改hosts文件)<br><a href="http://www.domain.com/phpinfo.php" target="_blank" rel="external">http://www.domain.com/phpinfo.php</a></p>
<p>6、启动MySQL<br>MySQL默认有生成几个配置文件，可以根据自己的硬件情况把文件复制到/etc/my.cnf</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ls /usr/share/mysql/*.cnf</span></span><br><span class="line"><span class="comment"># service mysqld start</span></span><br><span class="line"><span class="comment"># chkconfig mysqld on</span></span><br></pre></td></tr></table></figure>
<h3 id="u6253_u5F00UCloud_u9632_u706B_u5899"><a href="#u6253_u5F00UCloud_u9632_u706B_u5899" class="headerlink" title="打开UCloud防火墙"></a>打开UCloud防火墙</h3><p>UCloud平台防火墙的打开可以参考之前那篇博客<a href="http://zone.gaospot.com/2016/03/30/UCloud%E4%B8%8ALAMP%E5%B0%8F%E5%9E%8B%E7%BD%91%E7%AB%99%E6%90%AD%E5%BB%BA%E4%B8%8E%E6%B5%8B%E8%AF%95/">UCloud上LAMP小型网站搭建与测试</a>，上面有详细的说明。平台上面默认的防火墙是不允许修改规则的，所以要添加新的规则，需要新建防火墙。</p>
<h3 id="Discuz_21_u5B89_u88C5"><a href="#Discuz_21_u5B89_u88C5" class="headerlink" title="Discuz!安装"></a>Discuz!安装</h3><p>1、下载Discuz，并解压。将upload 这个目录下面的所有文件拷贝到网站根目录，或者是其他二级目录也行。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># wget http://download.comsenz.com/DiscuzX/3.1/Discuz_X3.1_SC_UTF8.zip</span></span><br></pre></td></tr></table></figure>
<p>2、文件成功解压到网站根目录后，通过在浏览器中运行安装向导来安装Discuz系统。然后一步步按提示向下安装。</p>
<p>3、安装好后就可以在浏览器访问您的论坛了！</p>
<p>参考：<a href="http://www.discuz.net/thread-3456887-1-1.html" target="_blank" rel="external">Discuz!X3.1 全新安装图文教程 </a></p>
<h3 id="u5E94_u7528_u6D4B_u8BD5"><a href="#u5E94_u7528_u6D4B_u8BD5" class="headerlink" title="应用测试"></a>应用测试</h3><p>测试不是必要的过程，但为了更好的掌握应用的负载能力还是建议进行测试的，以对应用状况有比较好的了解。测试工具和测试方法网上有很多，可以自行Google，也可以参考上面一篇博客介绍的方法。最后说一点是没有完全正确的测试，测试只能模拟高并发是的情况，但与真实访问时候还是有差距的。</p>
<p></p><h3 id="1">虚拟主机</h3><br>上面的这个nginx其实是配置了虚拟主机的，虚拟主机是用来实现在一台主机上实现多个站点的方式，在使用主机的时候，这里是直接将域名解析到ip了，当这个ip对应的主机上有多个站点的时候要如何区分这些站点呢，这就是通过虚拟主机实现的。虚拟主机可以配置在不同的端口，使用不同的域名等等方式来配置。上面有对应 <a href="/#vs">虚拟主机的说明</a>。<p></p>
<p></p><h3 id="2">禁止ip访问</h3><br>禁止ip访问的目的在在于防止恶意解析，一般来说将域名解析到网站分成两步。第一步，将域名解析到网站所在的主机，第二步，在web服务器中将域名与相应的网站绑定。但是，如果通过主机IP能直接访问某网站，那么把域名解析到这个IP也将能访问到该网站，而无需在主机上绑定，也就是说任何人将任何域名解析到这个IP就能访问到这个网站。可能您并不介意通过别人的域名访问到您的网站，但有些情况对方可能是恶意这样做的，那我们就可以通过限制直接通过ip访问来防止恶意解析。最简单配置如下，在server中添加下面一行就可以。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">listen 80 default;</span><br></pre></td></tr></table></figure><p></p>
<p>后面的default参数表示这个是默认虚拟主机。<br>下面是一些有用的技巧。<br>比如别人通过ip或者未知域名访问你的网站的时候，你希望禁止显示任何有效内容，可以给他返回500。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server &#123;  &#10;      listen 80 default;  &#10;      return 500;  &#10;   &#125;</span><br></pre></td></tr></table></figure></p>
<p>也可以把这些流量收集起来，导入到自己的网站，只要做以下跳转设置就可以：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server &#123;  &#10;       listen 80 default;  &#10;       rewrite ^(.*) http://www.123.cn permanent;  &#10;   &#125;</span><br></pre></td></tr></table></figure></p>
<p>按照如上设置后，确实不能通过IP访问服务器了，但是在应该用中出现当server_name后跟多个域名时，其中一个域名怎么都无法访问，设置如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server  &#123;  &#10;        listen 80;  &#10;        server_name www.123.cn example.com    &#10;   &#125;</span><br></pre></td></tr></table></figure></p>
<p>没更改之前，通过server_name 中的www.123.cn 123.cn均可访问服务器，加入Nginx 禁止IP访问的设置后，通过123.cn无法访问服务器了，www.123.cn可以访问，用 Nginx -t 检测配置文件会提示warning：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[warn]: conflicting server name &#8220;467.cn&#8221; on 0.0.0.0:80, &#10;   ignored  &#10;the configuration file /usr/local/Nginx/conf/&#10;   Nginx.conf syntax is ok  &#10;configuration file /usr/local/Nginx/conf/Nginx.&#10;   conf test is successful</span><br></pre></td></tr></table></figure></p>
<p>最后通过在listen 80 default;后再加server<em>name </em>;解决，形式如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#&#31105;&#27490;IP&#35775;&#38382;  &#10; server  &#123;  &#10;     listen 80 default;  &#10;     server_name _;  &#10;     server_name www.123.cn example.com &#10;     return 500;  &#10; &#125;</span><br></pre></td></tr></table></figure></p>
<p>这样，通过123.cn就能访问服务器了。</p>
<p>参考：<a href="http://blog.sohu.com/s/MzcwNDkxMzM/301722120.html" target="_blank" rel="external">Nginx服务器如何禁止通过IP地址访问网站 </a></p>
<p></p><h3 id="3">缓存控制</h3><br>缓存控制主要是在使用了cdn的时候会用到，通过配置源站webserver的header来控制cdn节点的缓存机制。nginx的缓存配置主要是通过add_header和expires这两个模块来控制的。<p></p>
<p>1） add_header</p>
<p>语法：add_header name value<br>默认值：none<br>使用字段：http, server, location</p>
<p>2） expires</p>
<p>语法：expires [time|epoch|max|off]<br>默认值：expires off<br>使用字段：http, server, location </p>
<p>这个指令控制是否在应答中标记一个过期时间，如果是，如何标记。<br>off 将禁止修改头部中的 Expires和Cache-Control字段。<br>Time控制“Cache-Control”的值，负数表示no-cache<br>epoch 将Expires头设置为1 January, 1970 00:00:01 GMT。<br>max 将Expires头设置为31 December 2037 23:59:59 GMT，将Cache-Control最大化到10 年。</p>
<p>例如设置php的文件类型过期时间设置为1个小时：<br>1） add_header</p>
<p>语法：add_header name value<br>默认值：none<br>使用字段：http, server, location</p>
<p>2） expires</p>
<p>语法：expires [time|epoch|max|off]<br>默认值：expires off<br>使用字段：http, server, location </p>
<p>这个指令控制是否在应答中标记一个过期时间，如果是，如何标记。<br>off 将禁止修改头部中的 Expires和Cache-Control字段。<br>Time控制“Cache-Control”的值，负数表示no-cache<br>epoch 将Expires头设置为1 January, 1970 00:00:01 GMT。<br>max 将Expires头设置为31 December 2037 23:59:59 GMT，将Cache-Control最大化到10 年。</p>
<p>例如设置php的文件类型过期时间设置为1个小时，在nginx的配置文件中加入下面一行：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expires 1h;</span><br></pre></td></tr></table></figure></p>
<p>不缓存<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expries -1h;</span><br></pre></td></tr></table></figure></p>
<p>另外可以通过add_header设置相对应的缓存策略，对于动态的php文件设置为不缓存：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location ~ .*\.php$ &#123;&#10;    if ($request_uri !~ ^/dynamicimg/) &#123;&#10;        add_header              Cache-Control &#34;no-cache&#34;;&#10;        add_header              Pragma no-cache;&#10;    &#125;&#10;  &#125;</span><br></pre></td></tr></table></figure>

        
        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://zone.gaospot.com/2016/04/01/UCloud上LNMP小型网站搭建/" data-id="cipddp4dq001db4ko9f63nxq0" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                        '<input class="article-share-input" value="' + url + '">',
                        '<div class="article-share-links">',
                            '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                            '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                            '<a href="http://pinterest.com/pin/create/button/?url=' + encodedUrl + '" class="fa fa-pinterest article-share-pinterest" target="_blank" title="Pinterest"></a>',
                            '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                        '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://zone.gaospot.com/2016/04/01/UCloud上LNMP小型网站搭建/#comments" class="article-comment-link disqus-comment-count" data-disqus-url="http://zone.gaospot.com/2016/04/01/UCloud上LNMP小型网站搭建/">评论</a>
    

        </footer>
    </div>
    
        
<nav id="article-nav">
    
        <a href="/2016/04/11/Win2008搭建Web和FTP服务/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    Win2008搭建Web和FTP服务
                
            </div>
        </a>
    
    
        <a href="/2016/03/30/UCloud上LAMP小型网站搭建与测试/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">UCloud上LAMP小型网站搭建与测试</div>
        </a>
    
</nav>


    
</article>


    
    <section id="comments">
    
        
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>

    
    </section>

</section>
            
                <aside id="sidebar">
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/06/11/raspberry内核编译和模块开发/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/06/11/raspberry内核编译和模块开发/" class="title">raspberry内核编译和模块开发</a></p>
                            <p class="item-date"><time datetime="2016-06-11T14:41:00.000Z" itemprop="datePublished">2016-06-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/06/03/初次连接我的树莓派/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/06/03/初次连接我的树莓派/" class="title">初次连接到我的树莓派</a></p>
                            <p class="item-date"><time datetime="2016-06-03T11:35:00.000Z" itemprop="datePublished">2016-06-03</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/06/03/nginx配合rtmp模块搭建流服务器/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/06/03/nginx配合rtmp模块搭建流服务器/" class="title">nginx配合rtmp模块搭建流服务器</a></p>
                            <p class="item-date"><time datetime="2016-06-03T03:35:00.000Z" itemprop="datePublished">2016-06-03</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/05/31/GTID模式下主从同步错误解决/" class="thumbnail">
    
    
        <span class="thumbnail-image thumbnail-none"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/05/31/GTID模式下主从同步错误解决/" class="title">GTID模式下主从同步错误解决</a></p>
                            <p class="item-date"><time datetime="2016-05-30T18:35:00.000Z" itemprop="datePublished">2016-05-31</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2016/05/31/UCDN配置过程/" class="thumbnail">
    
    
        <span style="background-image:url(http://7xr7kh.com1.z0.glb.clouddn.com/CDN%E5%8A%A0%E9%80%9F%E9%85%8D%E7%BD%AE.png)" alt="UCDN配置过程" class="thumbnail-image"></span>
    
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"></p>
                            <p class="item-title"><a href="/2016/05/31/UCDN配置过程/" class="title">UCDN配置过程</a></p>
                            <p class="item-date"><time datetime="2016-05-30T16:06:00.000Z" itemprop="datePublished">2016-05-31</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    
        
    <div class="widget-wrap">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">一月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">十月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">四月 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/03/">三月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">一月 2014</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">十二月 2013</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">十一月 2013</a><span class="archive-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C语言学习/">C语言学习</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java编程学习/">Java编程学习</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux学习/">Linux学习</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web基础/">Web基础</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux驱动编程/">linux驱动编程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/个人总结/">个人总结</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/产品说明/">产品说明</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/开发工具/">开发工具</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库管理/">数据库管理</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/智能硬件/">智能硬件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/系统运维/">系统运维</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络编程/">网络编程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算机网络/">计算机网络</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/运维相关/">运维相关</a><span class="tag-list-count">1</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/C语言学习/" style="font-size: 15px;">C语言学习</a> <a href="/tags/Java编程学习/" style="font-size: 12.5px;">Java编程学习</a> <a href="/tags/Linux学习/" style="font-size: 10px;">Linux学习</a> <a href="/tags/Web基础/" style="font-size: 15px;">Web基础</a> <a href="/tags/linux驱动编程/" style="font-size: 10px;">linux驱动编程</a> <a href="/tags/个人总结/" style="font-size: 15px;">个人总结</a> <a href="/tags/产品说明/" style="font-size: 15px;">产品说明</a> <a href="/tags/开发工具/" style="font-size: 12.5px;">开发工具</a> <a href="/tags/数据库管理/" style="font-size: 17.5px;">数据库管理</a> <a href="/tags/智能硬件/" style="font-size: 10px;">智能硬件</a> <a href="/tags/系统运维/" style="font-size: 20px;">系统运维</a> <a href="/tags/网络编程/" style="font-size: 10px;">网络编程</a> <a href="/tags/计算机网络/" style="font-size: 10px;">计算机网络</a> <a href="/tags/运维相关/" style="font-size: 10px;">运维相关</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://github.com/hsiun">My Github</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2016 Gao Xiong<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
        </div>
    </div>
</footer>
        
    
    <script>
    var disqus_shortname = 'GaoSpot';
    
    
    var disqus_url = 'http://zone.gaospot.com/2016/04/01/UCloud上LNMP小型网站搭建/';
    
    (function() {
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>



    
        <script src="/vendor/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>
    


<!-- Custom Scripts -->
<script src="/js/main.js" type="text/javascript"></script>

    </div>
</body>
</html>